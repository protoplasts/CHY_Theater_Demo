@model List<BookingViewModel>
@{
    ViewData["Title"] = "訂單查詢";
}

@section Styles {
    <style>
        .center-container {
            padding-top: 120px; /* Adjusted for navbar height */
        }

        .list-group-item.active {
            background-color: #dc3545;
            border-color: #dc3545;
        }

        .list-group-item:hover {
            background-color: #f8d7da;
            color: #721c24;
        }

        .card {
            border: none;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .card-title {
            color: #dc3545;
        }

        .card-text strong {
            color: #495057;
        }

        .card-text {
            color: #6c757d;
        }
    </style>
}

<div class="container-xl center-container">
    <div class="row">
        <!-- Left Navigation Bar -->
        <div class="col-md-3 mb-4">
            <div class="list-group">
                <a href="@Url.Action("Index", "MemberCenter")" class="list-group-item list-group-item-action">
                    <i class="fas fa-user-circle me-2"></i>我的帳戶
                </a>
                <a href="#" class="list-group-item list-group-item-action">
                    <i class="fas fa-edit me-2"></i>更新個人資訊
                </a>
                <a href="#" class="list-group-item list-group-item-action">
                    <i class="fas fa-key me-2"></i>更改密碼
                </a>
                <a href="@Url.Action("OrderInquiry", "MemberCenter")" class="list-group-item list-group-item-action active">
                    <i class="fas fa-shopping-cart me-2"></i>訂單查詢
                </a>
                <!-- ... other navigation items ... -->
            </div>
        </div>
        <!-- Right Content Area -->
        <div class="col-md-9">
            <h2 class="mb-4">訂單查詢</h2>
            @foreach (var booking in Model)
            {
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title mb-3">訂單編號: @booking.MerchantTradeNo</h5>
                        <div class="card-text">
                            <p><i class="far fa-calendar-alt me-2"></i><strong>訂單日期:</strong> @booking.BookingDate.ToString("yyyy/MM/dd HH:mm")</p>
                            <p><i class="fas fa-film me-2"></i><strong>電影:</strong> @booking.MovieTitle</p>
                            <p><i class="fas fa-building me-2"></i><strong>影城:</strong> @booking.TheaterName</p>
                            <p><i class="fas fa-door-open me-2"></i><strong>影廳:</strong> @booking.AuditoriumName</p>
                            <p><i class="far fa-clock me-2"></i><strong>放映時間:</strong> @booking.ShowTime.ToString("yyyy/MM/dd HH:mm")</p>
                            <p><i class="fas fa-chair me-2"></i><strong>座位:</strong> @string.Join(", ", booking.SeatDetails)</p>
                            <p><i class="fas fa-ticket-alt me-2"></i><strong>票種:</strong> @string.Join(", ", booking.TicketTypes)</p>
                            @if (booking.Snacks.Any())
                            {
                                <p><i class="fas fa-utensils me-2"></i><strong>小吃:</strong> @string.Join(", ", booking.Snacks)</p>
                            }
                            <p><i class="fas fa-dollar-sign me-2"></i><strong>總金額:</strong> NT$ @booking.TotalAmount</p>
                            <p><i class="fas fa-credit-card me-2"></i><strong>付款方式:</strong> @booking.PaymentTypes</p>
                            <p><i class="fas fa-info-circle me-2"></i><strong>訂單狀態:</strong> @booking.BookingStatus</p>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>