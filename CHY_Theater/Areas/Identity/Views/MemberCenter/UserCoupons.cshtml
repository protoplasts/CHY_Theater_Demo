@model List<UserCoupon>
@{
    ViewData["Title"] = "我的優惠券";
    Layout = "_MemberCenterLayout";
}
@section Styles{
    <style>
        .card {
            transition: all 0.3s ease;
            border: none;
            border-radius: 10px;
        }

            .card:hover {
                transform: translateY(-5px);
                box-shadow: 0 4px 15px rgba(0,0,0,0.1) !important;
            }

        .card-title {
            font-size: 1.2rem;
            font-weight: bold;
        }

        .card-subtitle {
            font-size: 0.9rem;
        }

        .badge {
            font-size: 0.8rem;
            padding: 0.5em 0.7em;
        }

        .text-primary {
            color: #007bff !important;
        }

        .bg-success {
            background-color: #28a745 !important;
        }

        .bg-secondary {
            background-color: #6c757d !important;
        }

        .alert-info {
            background-color: #d1ecf1;
            border-color: #bee5eb;
            color: #0c5460;
        }
    </style>
}
<div class="col-md-9">
    <h2 class="mb-4 mt-5">@ViewData["Title"]</h2>
    <div class="row">
        @if (Model.Any())
        {
            @foreach (var userCoupon in Model)
            {
                <div class="col-md-6 col-lg-4 mb-4">
                    <div class="card h-100 shadow-sm @(userCoupon.IsUsed ? "bg-light" : "")">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title text-primary">@userCoupon.Coupon.CouponCode</h5>
                            <h6 class="card-subtitle mb-2 text-muted">@userCoupon.Coupon.DiscountType</h6>
                            <p class="card-text">
                                <strong>折扣：</strong>
                                @if (userCoupon.Coupon.DiscountType == "Percentage")
                                {
                                    @($"{userCoupon.Coupon.DiscountValue}%")
                                }
                                else
                                {
                                    @($"${userCoupon.Coupon.DiscountValue}")
                                }
                            </p>
                            <p class="card-text"><strong>有效期限：</strong> @userCoupon.Coupon.ExpiryDate.ToString("yyyy-MM-dd")</p>
                            <p class="card-text flex-grow-1">@userCoupon.Coupon.Description</p>
                            @if (!userCoupon.IsUsed)
                            {
                                <span class="badge bg-success">可使用</span>
                            }
                            else
                            {
                                <span class="badge bg-secondary">已使用</span>
                            }
                        </div>
                    </div>
                </div>
            }
        }
        else
        {
            <div class="col-12">
                <div class="alert alert-info" role="alert">
                    您目前沒有可用的優惠券。
                </div>
            </div>
        }
    </div>
</div>